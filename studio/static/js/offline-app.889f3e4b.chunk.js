"use strict";(self.webpackChunkharperdb_studio=self.webpackChunkharperdb_studio||[]).push([[7156],{4198:(e,s,n)=>{n.r(s),n.d(s,{default:()=>k});var a=n(7313),t=n(8467),l=n(7387),i=n(9842),c=n(6449),d=n(9266),r=n(511),o=n(7377),h=n(4220),p=n(6140),u=n(8220),j=n(3295),x=n(9326),Z=n(2190),m=n(6417);const v=(0,a.lazy)((()=>n.e(2467).then(n.bind(n,2471)))),b=(0,a.lazy)((()=>Promise.all([n.e(7409),n.e(7896)]).then(n.bind(n,1224)))),f=(0,a.lazy)((()=>n.e(9803).then(n.bind(n,2717))));const k=function(){var e;const s=(0,t.s0)(),n=(0,t.TH)(),{search:k,pathname:g}=n,_=(0,l.Kw)(c.Z,(e=>e.theme)),[S,A]=(0,a.useState)(!0),[F,C]=(0,d.Z)({}),W=null===F||void 0===F?void 0:F.theme,[w]=(0,Z.Z)({}),y=null===w||void 0===w||null===(e=w.local)||void 0===e?void 0:e.valid;return(0,a.useEffect)((()=>{(0,j.Z)(W)}),[W]),(0,a.useEffect)((()=>{(0,u.Z)({auth:F,location:n,navigate:s,setFetchingUser:A,setPersistedUser:C,controller:undefined}),(0,x.Z)(W),c.Z.update((e=>{e.instances=[{compute_stack_id:"local",url:"/",instance_name:"local"}]}))}),[]),(0,m.jsxs)("div",{className:"".concat(_),children:[(0,m.jsxs)("div",{id:"app-container",children:[(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(o.Z,{header:" ",spinner:!0}),children:(0,m.jsx)(v,{loggedIn:y})}),S?(0,m.jsx)(o.Z,{header:"signing in",spinner:!0}):y?(0,m.jsx)(i.SV,{FallbackComponent:h.Z,children:(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(o.Z,{header:" ",spinner:!0}),children:(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{element:(0,m.jsx)(b,{}),path:"/o/:customer_id/i/:compute_stack_id/*"}),(0,m.jsx)(t.AW,{element:(0,m.jsx)(t.Fg,{to:"/",replace:!0})})]})})}):(0,m.jsx)(i.SV,{FallbackComponent:p.Z,children:(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(o.Z,{header:" ",spinner:!0}),children:(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{element:(0,m.jsx)(f,{}),path:"/"}),(0,m.jsx)(t.AW,{path:"*",element:(0,m.jsx)(t.Fg,{to:"/?redirect=".concat(g).concat(k),replace:!0})})]})})})]}),(0,m.jsx)("div",{id:"app-bg-color"}),(0,m.jsxs)("div",{className:"version",children:["HarperDB Local Studio v",r.Z.studio_version]})]})}},2190:(e,s,n)=>{n.d(s,{Z:()=>a});const a=(0,n(8131).Z)("instanceAuths")}}]);