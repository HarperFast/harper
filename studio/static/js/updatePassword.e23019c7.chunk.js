"use strict";(self.webpackChunkharperdb_studio=self.webpackChunkharperdb_studio||[]).push([[578],{4904:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(7313),o=r(238),s=r(3516),i=r(1781),a=r(9327),c=r(3672),u=r.n(c),l=r(8467),d=r(7387),p=r(6449),f=r(9395),b=r(7377),y=r(6417);const h=function(){const e=(0,l.s0)(),t=(0,d.Kw)(p.Z,(e=>e.auth)),[r,c]=(0,n.useState)({}),[h,m]=(0,n.useState)({}),v=()=>{m({}),setTimeout((()=>c({error:"8 char min., 1 lower case, 1 upper case, 1 number, 1 special char."})),0)};return(0,n.useEffect)((()=>{window.lintrk&&window.lintrk("track",{conversion_id:11485730})}),[]),u()((async()=>{const{submitted:e,processing:n}=r;if(e&&!n){const{password:e}=h;e&&/^(?=.*[\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\w!@#$%^&*]{8,}$/.test(e)?(c({processing:!0}),(0,f.Z)({auth:t,...t,password:e})):v()}}),[r]),(0,n.useEffect)((()=>{null!==t&&void 0!==t&&t.passwordSuccess?e("/"):null!==t&&void 0!==t&&t.passwordError&&v()}),[t]),u()((()=>!r.submitted&&c({})),[h]),(0,y.jsx)("div",{id:"login-form",children:r.processing?(0,y.jsx)(b.Z,{header:"adding account password",spinner:!0,relative:!0}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.Z,{className:"mb-3",children:(0,y.jsxs)(s.Z,{onKeyDown:e=>13!==e.keyCode||c({submitted:!0}),children:[(0,y.jsxs)("div",{className:"instructions",children:["Add an account password",(0,y.jsx)("br",{}),(0,y.jsx)("br",{}),r.error?(0,y.jsx)("i",{className:"text-small text-danger text-bold",children:r.error}):(0,y.jsx)("i",{className:"text-small text-bold",children:"8 char min., 1 lower case, 1 upper case, 1 number, 1 special char."})]}),(0,y.jsx)(i.Z,{id:"password1",onChange:e=>m({...h,password:e.target.value}),disabled:r.submitted,className:"mb-2 text-center",type:"password",title:"password",placeholder:"add password"}),(0,y.jsx)(a.Z,{id:"updateMyPassword",onClick:()=>c({submitted:!0}),disabled:r.submitted,title:"Add Account Password",block:!0,color:"purple",children:"Add Account Password"})]})}),(0,y.jsx)("div",{className:"login-nav-link",children:"\xa0"})]})})}},9395:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(576),o=r(6449),s=r(2261),i=r(511);const a=async e=>{let{auth:t,user_id:r,password:a}=e,c=null;try{return c=await(0,n.Z)({endpoint:"updatePassword",method:"POST",payload:{user_id:r,password:a,loggingIn:!0},auth:t}),c.error?o.Z.update((e=>{e.auth={...t,...c,passwordError:Date.now()}})):o.Z.update((e=>{e.auth={...t,passwordSuccess:Date.now(),update_password:!1,...c,pass:a}}))}catch(u){return(0,s.Z)({type:"lms data",status:"error",url:i.Z.lms_api_url,operation:"updatePassword",request:{user_id:r},error:{catch:u.toString()}})}}},1781:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(7313),o=r(5192),s=r.n(o),i=r(6123),a=r.n(i),c=r(986);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var l=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,r)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v={children:s().node,type:s().string,size:s().oneOfType([s().number,s().string]),bsSize:s().string,valid:s().bool,invalid:s().bool,tag:c.iC,innerRef:s().oneOfType([s().object,s().func,s().string]),plaintext:s().bool,addon:s().bool,className:s().string,cssModule:s().object},w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(i,e);var t,r,o,s=y(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=s.call(this,e)).getRef=t.getRef.bind(h(t)),t.focus=t.focus.bind(h(t)),t}return t=i,(r=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.cssModule,o=e.type,s=void 0===o?"text":o,i=e.bsSize,u=e.valid,f=e.invalid,b=e.tag,y=e.addon,h=e.plaintext,m=e.innerRef,v=p(e,l),w=["switch","radio","checkbox"].indexOf(s)>-1,g="select"===s,x="range"===s,j=b||(g||"textarea"===s?s:"input"),O="form-control";h?(O="".concat(O,"-plaintext"),j=b||"input"):x?O="form-range":g?O="form-select":w&&(O=y?null:"form-check-input"),v.size&&/\D/g.test(v.size)&&((0,c.O4)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=v.size,delete v.size);var P=(0,c.mx)(a()(t,f&&"is-invalid",u&&"is-valid",!!i&&(g?"form-select-".concat(i):"form-control-".concat(i)),O),r);return("input"===j||b&&"function"===typeof b)&&(v.type="switch"===s?"checkbox":s),v.children&&!h&&"select"!==s&&"string"===typeof j&&"select"!==j&&((0,c.O4)('Input with a type of "'.concat(s,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete v.children),n.createElement(j,d({},v,{ref:m,className:P,"aria-invalid":f}))}}])&&f(t.prototype,r),o&&f(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);w.propTypes=v;const g=w},3672:(e,t,r)=>{var n=r(7313);function o(e,t,r){var o="function"===typeof t;n.useEffect((function(){var r,n=!0,s=e((function(){return n}));return Promise.resolve(s).then((function(e){r=e})),function(){n=!1,o&&t(r)}}),o?r:t)}e.exports=o,e.exports.useAsyncEffect=o}}]);