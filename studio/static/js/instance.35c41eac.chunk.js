"use strict";(self.webpackChunkharperdb_studio=self.webpackChunkharperdb_studio||[]).push([[7896],{1224:(e,t,a)=>{a.r(t),a.d(t,{default:()=>se});var s=a(7313),n=a(8467),r=a(7387),o=a(6160),i=a(3672),l=a.n(i),c=a(4122),u=a(6449),d=a(5447),p=a(2190),m=a(5708),h=a(2742),v=a(1613),_=a(8212),b=a(2135),f=a(9842);const g=(e,t)=>({alignItems:"center",display:"flex",":before":{content:t?'"\f06a"':e?'"\f233"':'"\f0c2"',display:"inline-block",font:"normal normal normal 14px/1 FontAwesome",marginRight:8}});var Z=a(57),y=a(4220),x=a(2261),j=a(511),w=a(6417);const k=function(e){let{routes:t=[]}=e;const{compute_stack_id:a,customer_id:s}=(0,n.UO)(),[o]=(0,p.Z)({}),i=(0,n.s0)(),l=(0,n.TH)(),c=(0,r.Kw)(d.Z,(e=>e.defaultBrowseURL)),k=(0,r.Kw)(u.Z,(e=>{var t;return e.alarms&&(null===(t=e.alarms[a])||void 0===t?void 0:t.alarmCounts.total)}),[a]),{options:S,activeOption:C}=(0,r.Kw)(u.Z,(e=>{const t=e.instances&&e.instances.find((e=>e.compute_stack_id===a)),s=e.instances&&e.instances.filter((e=>e.compute_stack_id!==a));return{options:s&&s.map((e=>({label:"".concat(e.instance_name," ").concat(["CREATE_IN_PROGRESS","UPDATE_IN_PROGRESS","CONFIGURING_NETWORK"].includes(e.status)?"(".concat(e.status.replace(/_/g," ").toLowerCase(),")"):""),value:e.compute_stack_id,is_local:e.is_local,has_auth:o[e.compute_stack_id],is_unavailable:["CREATE_IN_PROGRESS","UPDATE_IN_PROGRESS","CONFIGURING_NETWORK"].includes(e.status)}))),activeOption:{label:null===t||void 0===t?void 0:t.instance_name,value:a,is_local:null===t||void 0===t?void 0:t.is_local}}}),[a]),N="/o/".concat(s,"/i/").concat(a),E=l.pathname.split(a)[1].split("/")[1],O=null===t||void 0===t?void 0:t.find((e=>e.link===E)),P={label:null===O||void 0===O?void 0:O.label,value:null===O||void 0===O?void 0:O.link,iconCode:null===O||void 0===O?void 0:O.iconCode};return(0,w.jsx)(f.SV,{onError:(e,t)=>(0,x.Z)({error:{message:e.message,componentStack:t}}),FallbackComponent:y.Z,children:(0,w.jsxs)(m.Z,{className:"app-subnav",children:[!j.Z.is_local_studio&&(0,w.jsx)(h.Z,{navbar:!0,className:"instance-select",children:(0,w.jsx)(_.ZP,{className:"react-select-container",classNamePrefix:"react-select",onChange:e=>{let{value:t,has_auth:a,is_unavailable:n}=e;return!n&&i(a?"/o/".concat(s,"/i/").concat(t,"/").concat(P.value):"/o/".concat(s,"/instances/login"))},options:S||[],value:C,defaultValue:C.value,isSearchable:!1,isClearable:!1,isLoading:!S,noOptionsMessage:()=>"No other instances available",styles:{option:(e,t)=>{let{data:a}=t;return{...e,opacity:a.is_unavailable?.5:1,...g(a.is_local,a.is_unavailable)}},singleValue:(e,t)=>{let{data:a}=t;return{...e,...g(a.is_local,a.is_unavailable)}}}})}),(0,w.jsx)(h.Z,{navbar:!0,className:"instance-nav d-none d-lg-flex",children:t.map((e=>(0,w.jsx)(v.Z,{children:(0,w.jsxs)(b.OL,{title:e.link,className:"nav-link",to:"".concat(N,"/").concat("browse"===e.link&&c?"".concat(e.link,"/").concat(c):e.link),children:[(0,w.jsx)("i",{className:"d-none d-sm-inline-block fa me-1 fa-".concat(e.icon)}),e.label||e.link,!!k&&"status"===e.link&&(0,w.jsx)("span",{className:"badge",children:k})]})},e.path)))}),(0,w.jsx)(h.Z,{navbar:!0,className:"instance-nav-select d-flex d-lg-none",children:(0,w.jsx)(_.ZP,{className:"react-select-container",classNamePrefix:"react-select",width:"200px",onChange:e=>{let{value:t}=e;return i("".concat(N,"/").concat(t))},options:P.value?t.filter((e=>e.link!==P.value)).map((e=>({label:e.label,value:e.link,iconCode:e.iconCode}))):null,isLoading:!P.value,value:P,defaultValue:P.value,isSearchable:!1,isClearable:!1,styles:{option:(e,t)=>{let{data:a}=t;return{...e,...(0,Z.Z)(a.iconCode)}},singleValue:(e,t)=>{let{data:a}=t;return{...e,...(0,Z.Z)(a.iconCode)}}}})})]})})};var S=a(238),C=a(3516),N=a(3953),E=a(6782),O=a(5399),P=a(9496),T=a(35),A=a(8659);const R=(0,s.lazy)((()=>Promise.all([a.e(5110),a.e(5849)]).then(a.bind(a,7962)))),I=(0,s.lazy)((()=>a.e(2003).then(a.bind(a,6201)))),z=(0,s.lazy)((()=>Promise.all([a.e(9424),a.e(9641)]).then(a.bind(a,9716)))),F=(0,s.lazy)((()=>Promise.all([a.e(2718),a.e(9938)]).then(a.bind(a,638)))),K=(0,s.lazy)((()=>a.e(6).then(a.bind(a,2122)))),q={tableData:[],dataTableColumns:[],filtered:[],sorted:[],page:0,pageSize:20,autoRefresh:!1,showFilter:!1,newEntityAttributes:!1,hashAttribute:!1};function U(e){let{table:t}=e;return(0,w.jsx)(S.Z,{className:"my-3 missing-primary-key",children:(0,w.jsxs)(C.Z,{children:[(0,w.jsx)(N.Z,{children:"No Primary Key"}),(0,w.jsx)("i",{className:"fa fa-warning mt-3"}),(0,w.jsxs)("span",{className:"mt-3",children:["The table ","'".concat(t,"'")," does not have a primary key. The HarperDB Studio does not currently support tables without a primary key defined. Please see the"," ",(0,w.jsx)("a",{href:"https://docs.harperdb.io/docs",target:"_blank",rel:"noreferrer",children:"HarperDB documention"})," ","to see the standard HarperDB querying options."]})]})})}const B=function(){var e,t,a,o,i;const l=(0,n.s0)(),c=(0,n.TH)(),{schema:u,table:m,action:h,customer_id:v,compute_stack_id:_}=(0,n.UO)(),[b]=(0,p.Z)({}),g=b&&b[_],Z=(0,r.Kw)(d.Z,(e=>e.url)),j=(0,r.Kw)(d.Z,(e=>e.registration)),k=null===j||void 0===j?void 0:j.version,[S,C]=(null===k||void 0===k?void 0:k.split("."))||[],N="".concat(S,".").concat(C),B=(0,r.Kw)(d.Z,(e=>e.structure)),[L,D]=(0,s.useState)({schemas:[],tables:[],activeTable:!1}),[G,V]=(0,s.useState)(q),W="/o/".concat(v,"/i/").concat(_,"/browse"),H=(null===(e=b[_])||void 0===e?void 0:e.super)||!0===(null===(t=b[_])||void 0===t?void 0:t.structure),M=H||(null===(a=b[_])||void 0===a?void 0:a.structure)&&(null===(o=b[_])||void 0===o||null===(i=o.structure)||void 0===i?void 0:i.includes(u)),Y=H?"Please ".concat(u&&L.tables&&!L.tables.length||!L.schemas.length?"create":"choose"," a ").concat(u?"table":"".concat(N>=4.2?"database":"schema")):"This user has not been granted access to any tables. A super-user must update this user's role.",[J,$]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{!async function(){if(m){const e=await(0,P.Z)({auth:g,url:Z,schema:u,table:m});$(Boolean(e.hash_attribute))}}()}),[g,Z,u,m]),(0,s.useEffect)((()=>{if(B){const e=Object.keys(B),t=Object.keys((null===B||void 0===B?void 0:B[u])||{});if(!e.length&&"/browse"!==c.pathname)return D({schemas:[],tables:[],activeTable:!1}),void l("/o/".concat(v,"/i/").concat(_,"/browse"));if(e.length&&!e.includes(u))return void l("/o/".concat(v,"/i/").concat(_,"/browse/").concat(e[0]));if(t.length&&!t.includes(m))return void l("/o/".concat(v,"/i/").concat(_,"/browse/").concat(u,"/").concat(t[0]));L.activeTable!=="".concat(_,":").concat(u,":").concat(m)&&V(q),D({schemas:e,tables:t,activeTable:"".concat(_,":").concat(u,":").concat(m)})}}),[B,u,m,_]),(0,s.useEffect)((()=>{(0,A.Z)({auth:g,url:Z})}),[g,Z,u,m]),(0,w.jsxs)(E.Z,{id:"browse",children:[(0,w.jsx)(O.Z,{xl:"3",lg:"4",md:"5",xs:"12",children:(0,w.jsxs)(f.SV,{onError:(e,t)=>(0,x.Z)({error:{message:e.message,componentStack:t}}),FallbackComponent:y.Z,children:[(0,w.jsx)(I,{activeItem:u,items:L.schemas,baseUrl:W,itemType:N>=4.2?"database":"schema",showForm:H}),u&&(0,w.jsx)(I,{activeItem:m,items:L.tables,activeSchema:u,baseUrl:"".concat(W,"/").concat(u),itemType:"table",showForm:M}),(0,w.jsx)(K,{centerText:!0,label:"refresh ".concat(N>=4.2?"databases":"schemas"," and tables")})]})}),(0,w.jsx)(O.Z,{xs:"12",className:"d-block d-md-none",children:(0,w.jsx)("hr",{})}),(0,w.jsx)(O.Z,{xl:"9",lg:"8",md:"7",xs:"12",children:(0,w.jsx)(f.SV,{onError:(e,t)=>(0,x.Z)({error:{message:e.message,componentStack:t}}),FallbackComponent:y.Z,children:u&&m&&"csv"===h&&L.activeTable?(0,w.jsx)(F,{}):u&&m&&h&&L.activeTable?(0,w.jsx)(z,{newEntityAttributes:G.newEntityAttributes,hashAttribute:G.hashAttribute}):u&&m&&L.activeTable?(0,w.jsx)(R,{activeTable:L.activeTable,tableState:G,setTableState:V}):u&&m&&!J?(0,w.jsx)(U,{}):(0,w.jsx)(T.Z,{headline:Y,icon:(0,w.jsx)("i",{className:"fa fa-exclamation-triangle text-warning"})})})})]})},L=(0,s.lazy)((()=>Promise.all([a.e(8446),a.e(4060)]).then(a.bind(a,7606)))),D=(0,s.lazy)((()=>Promise.all([a.e(5110),a.e(9287),a.e(8446),a.e(5255)]).then(a.bind(a,9951)))),G=(0,s.lazy)((()=>Promise.all([a.e(5110),a.e(9287),a.e(8463)]).then(a.bind(a,1608)))),V=(0,s.lazy)((()=>Promise.all([a.e(723),a.e(6490)]).then(a.bind(a,7535)))),W=(0,s.lazy)((()=>a.e(4025).then(a.bind(a,8244)))),H=(0,s.lazy)((()=>a.e(7759).then(a.bind(a,6578)))),M=(0,s.lazy)((()=>a.e(6701).then(a.bind(a,225)))),Y=(0,s.lazy)((()=>Promise.all([a.e(5110),a.e(9424),a.e(442)]).then(a.bind(a,2578)))),J=e=>{let{super_user:t,version:a=null}=e;const s={element:(0,w.jsx)(B,{}),path:"browse/:schema?/:table?/:action?/:hash?",link:"browse",label:"browse",icon:"list",iconCode:"f03a"},n={element:(0,w.jsx)(D,{}),path:"query",link:"query",label:"query",icon:"search",iconCode:"f002"},r={element:(0,w.jsx)(H,{}),path:"users/:username?",link:"users",label:"users",icon:"users",iconCode:"f0c0"},o={element:(0,w.jsx)(M,{}),path:"roles/:role_id?",link:"roles",label:"roles",icon:"check-square",iconCode:"f14a"},i={element:(0,w.jsx)(L,{}),path:"charts",link:"charts",label:"charts",icon:"chart-line",iconCode:"f201"},l={element:(0,w.jsx)(G,{}),path:"replication",link:"replication",label:"replication",icon:"cubes",iconCode:"f1e0"},c={element:(0,w.jsx)(Y,{}),path:"functions/:action?/:project?/:type?/:file?",link:"functions",label:"functions",icon:"project-diagram",iconCode:"f542"},u={element:(0,w.jsx)(Y,{}),path:"applications",link:"applications",label:"applications",icon:"project-diagram",iconCode:"f542"},d={element:(0,w.jsx)(W,{}),path:"status",link:"status",label:"status",icon:"tachometer-alt",iconCode:"f3fd"},p={element:(0,w.jsx)(V,{}),path:"config",link:"config",label:"config",icon:"wrench",iconCode:"f0ad"};let m=!1;if(a){const[e,t]=(null===a||void 0===a?void 0:a.split("."))||[],s=parseInt(e,10),n=parseInt(t,10);m=parseFloat("".concat(s,".").concat(n))>=4.2}return j.Z.is_local_studio&&t?[s,n,r,o,l,m?u:c,d,p]:t?[s,n,r,o,i,l,m?u:c,d,p]:j.Z.is_local_studio?[s,n,i]:[s,n]};var $=a(7377),Q=a(3230),X=a(6047),ee=a(8751),te=a(2230),ae=a(5491);const se=function(){const{compute_stack_id:e,customer_id:t}=(0,n.UO)(),a=(0,o.VY)(),i=(0,n.s0)(),[m,h]=(0,s.useState)(!0),[v,_]=(0,p.Z)({}),b=v&&v[e],f=(0,r.Kw)(u.Z,(e=>e.auth)),g=(0,r.Kw)(u.Z,(e=>{var a,s;return null===(a=e.auth)||void 0===a||null===(s=a.orgs)||void 0===s?void 0:s.find((e=>{var a;return(null===(a=e.customer_id)||void 0===a?void 0:a.toString())===t}))})),Z=(0,r.Kw)(u.Z,(e=>e.products)),y=(0,r.Kw)(u.Z,(e=>e.regions)),x=(0,r.Kw)(u.Z,(e=>e.subscriptions)),S=(0,r.Kw)(u.Z,(e=>e.instances)),C=(0,r.Kw)(u.Z,(t=>e&&t.instances&&t.instances.find((t=>t.compute_stack_id===e))),[e]),N=(0,r.Kw)(d.Z,(e=>e.url)),E=(0,r.Kw)(d.Z,(e=>e.restarting)),O=(0,r.Kw)(d.Z,(e=>e.registration)),P=J({customer_id:t,super_user:null===b||void 0===b?void 0:b.super,version:null===O||void 0===O?void 0:O.version}),[T,R]=(0,s.useState)(!1);return l()((()=>{!j.Z.is_local_studio&&f&&t&&(0,X.Z)({auth:f,customer_id:t})}),[f,t,j.Z.is_local_studio]),l()((()=>{!j.Z.is_local_studio&&f&&t&&(0,ee.Z)({auth:f,customer_id:t})}),[f,t,S,j.Z.is_local_studio]),l()((()=>{f&&Z&&y&&x&&t&&(null===S||void 0===S||!S.length)&&(0,Q.Z)({auth:f,customer_id:t,products:Z,regions:y,subscriptions:x,instanceCount:null===S||void 0===S?void 0:S.length})}),[f,Z,y,t,x,S]),l()((async()=>{if(C&&b){d.Z.update((()=>C));const{error:e}=await(0,A.Z)({auth:b,url:C.url});await(0,ae.Z)({auth:b,url:C.url}),h(!1),e&&setTimeout((()=>i("/o/".concat(t,"/instances"))),10)}}),[C]),l()((()=>{T&&N&&null!==b&&void 0!==b&&b.super?a.success("Your instance user role has been upgraded to super_user"):T&&N&&a.success("Your instance user role has been downgraded to standard")}),[a,null===b||void 0===b?void 0:b.super]),l()((()=>R(!0)),(()=>R(!1)),[]),(0,c.Z)((async()=>{if(N){var s,n;const l=await(0,te.Z)({auth:b,url:N});if(l.error&&"Network request failed"!==l.message&&!E)a.error("Unable to connect to instance."),i("/o/".concat(t,"/instances"));else if(!l.error&&E)d.Z.update((e=>{e.restarting=!1}));else if(!l.error&&(null===b||void 0===b?void 0:b.super)!==(null===(s=l.role)||void 0===s||null===(n=s.permission)||void 0===n?void 0:n.super_user)){var r,o;_({...v,[e]:{...b,super:null===(r=l.role)||void 0===r||null===(o=r.permission)||void 0===o?void 0:o.super_user}})}}}),j.Z.refresh_content_interval),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(k,{routes:P}),(j.Z.is_local_studio||g&&S)&&!m?(0,w.jsx)(s.Suspense,{fallback:(0,w.jsx)($.Z,{header:" ",spinner:!0}),children:(0,w.jsxs)(n.Z5,{children:[P.map((e=>(0,w.jsx)(n.AW,{path:e.path,element:e.element},e.path))),(0,w.jsx)(n.AW,{path:"*",element:(0,w.jsx)(n.Fg,{to:P[0].path,replace:!0})})]})}):(0,w.jsx)($.Z,{header:"loading instance",spinner:!0})]})}},35:(e,t,a)=>{a.d(t,{Z:()=>o});a(7313);var s=a(238),n=a(3516),r=a(6417);const o=function(e){let{headline:t,description:a,icon:o,warning:i}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"floating-card-header text-end",children:"\xa0"}),(0,r.jsx)(s.Z,{className:"my-3",children:(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"empty-prompt narrow",children:[o,t&&(0,r.jsx)("div",{className:"mt-3",children:t}),(0,r.jsx)("div",{className:"mt-3",children:a}),i&&(0,r.jsxs)("div",{className:"warning-text mt-3",children:["Warning: ",i]})]})})})]})}},1343:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(9859);const n=async e=>{let{auth:t,url:a}=e;return(0,s.Z)({operation:{operation:"describe_all"},auth:t,url:a})}},9496:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(9859);const n=async e=>{let{auth:t,url:a,schema:n,table:r,signal:o}=e;return(0,s.Z)({operation:{operation:"describe_table",schema:n,table:r},auth:t,url:a,signal:o})}},5491:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(9859),n=a(5447);const r=async e=>{let{auth:t,url:a}=e;const r=await(0,s.Z)({operation:{operation:"registration_info"},auth:t,url:a,timeout:5e3});return n.Z.update((e=>{e.registration=r.error?{}:r})),r}},2230:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(9859);const n=async e=>{let{auth:t,url:a}=e;return(0,s.Z)({operation:{operation:"user_info"},auth:t,url:a,timeout:5e3})}},8751:(e,t,a)=>{a.d(t,{Z:()=>l});var s=a(576),n=a(6449),r=a(2261),o=a(511);const i=e=>{let{alarms:t}=e;return Object.values(t).reduce(((e,t)=>(e[t.type.trim()]=(e[t.type.trim()]||0)+1,e.total+=1,e)),{total:0})},l=async e=>{let{auth:t,customer_id:a,signal:l,currentAlarmsLength:c}=e,u=null;try{if(u=await(0,s.Z)({endpoint:"getAlarms",method:"POST",payload:{customer_id:a},signal:l,auth:t}),u.error&&c)return n.Z.update((e=>{e.alarmsError=!0}));if(!Array.isArray(u)||u.error)return n.Z.update((e=>{e.alarms=[],e.alarmsError=!0}));const e=[...u].sort(((e,t)=>t.date-e.date)),r=Object.assign({},...e.map((e=>{var t;const a=null===(t=u)||void 0===t?void 0:t.filter((t=>t.compute_stack_id===e.compute_stack_id));return{[e.compute_stack_id]:{alarms:a,alarmCounts:i({alarms:a.filter((e=>e.date+1e3*o.Z.alarm_badge_threshold>Date.now()))})}}})));return n.Z.update((e=>{e.alarms=r,e.alarmsError=!1}))}catch(d){return(0,r.Z)({type:"lms data",status:"error",url:o.Z.lms_api_url,operation:"getAlarms",request:{customer_id:a},error:{catch:d.toString()},customer_id:a})}}},6047:(e,t,a)=>{a.d(t,{Z:()=>l});var s=a(576),n=a(6449),r=a(2261),o=a(511),i=a(2174);const l=async e=>{let{auth:t,customer_id:a}=e,l=null;try{var c;return l=await(0,s.Z)({endpoint:"getCustomer",method:"POST",payload:{customer_id:a},auth:t}),(0,i.Z)({auth:t,customer_id:a,stripe_id:null===(c=l)||void 0===c?void 0:c.stripe_id}),l.error||n.Z.update((e=>{var t;e.customer={...l,customer_id:a},e.hasCard=null===(t=l.stripe_payment_methods)||void 0===t?void 0:t[0]})),l}catch(u){return(0,r.Z)({type:"lms data",status:"error",url:o.Z.lms_api_url,operation:"getCustomer",request:{customer_id:a},error:{catch:u.toString()},customer_id:a})}}},3230:(e,t,a)=>{a.d(t,{Z:()=>c});var s=a(576),n=a(6449),r=a(1842);const o=e=>{let{is_local:t,wavelength_zone_id:a,cloud_provider:s}=e;switch(!0){case a:return"wavelength_compute";case t:return"local_compute";case"akamai"===s:return"akamai_compute";default:return"cloud_compute"}};var i=a(2261),l=a(511);const c=async e=>{let{auth:t,customer_id:a,products:c,regions:u,subscriptions:d,instanceCount:p=0}=e,m=null;try{if(m=await(0,s.Z)({endpoint:"getInstances",method:"POST",payload:{customer_id:a,user_id:t.user_id},auth:t}),Array.isArray(m)){const e=m.map((e=>{const t=(e=>{let{instance:t,products:a,regions:s,subscriptions:n}=e;try{var i,l;const e=t.compute_subscription_id?n[o(t)]:a[o(t)],c=null===e||void 0===e?void 0:e.find((e=>e.value.stripe_plan_id===t.stripe_plan_id&&(!t.compute_subscription_id||e.value.compute_subscription_id===t.compute_subscription_id))),u=t.storage_subscription_id?n.cloud_storage:a.cloud_storage,d=!t.is_local&&(null===u||void 0===u?void 0:u.find((e=>e.value.data_volume_size===t.data_volume_size&&e.value.stripe_storage_plan_id===t.stripe_storage_plan_id&&(!t.storage_subscription_id||e.value.storage_subscription_id===t.storage_subscription_id)))),p=parseFloat((null===c||void 0===c||null===(i=c.value)||void 0===i?void 0:i.compute_price)||0)+parseFloat((null===d||void 0===d||null===(l=d.value)||void 0===l?void 0:l.storage_price)||0),m=p?"$".concat((0,r.Z)(p.toFixed(2))):"FREE",h=t.compute_subscription_id&&t.storage_subscription_id?"PREPAID":p?"".concat(m,"/").concat(c.value.compute_interval):"FREE",v=!t.is_local&&s.find((e=>e.value===t.instance_region));return{compute:null===c||void 0===c?void 0:c.value,storage:null===d||void 0===d?void 0:d.value,totalPrice:p,totalPriceString:m,totalPriceStringWithInterval:h,region:v}}catch(c){return console.log(c)}})({instance:e,products:c,regions:u,subscriptions:d});return{...e,...t}})),t=e.sort(((e,t)=>e.instance_name>t.instance_name?1:-1));return n.Z.update((e=>{e.instances=t})),t}return!p&&n.Z.update((e=>{e.instances=[]}))}catch(h){return(0,i.Z)({type:"lms data",status:"error",url:l.Z.lms_api_url,operation:"getInstances",request:{customer_id:a},error:{catch:h.toString()},customer_id:a})}}},2174:(e,t,a)=>{a.d(t,{Z:()=>c});var s=a(576),n=a(6449),r=a(2261),o=a(8329),i=a(9274),l=a(511);const c=async e=>{let{auth:t,customer_id:a,stripe_id:c}=e;try{const e=await(0,s.Z)({endpoint:"getPrepaidSubscriptions",method:"POST",payload:{customer_id:a,stripe_id:c},auth:t});return!e.error&&n.Z.update((t=>{t.subscriptions={cloud_storage:(0,i.Z)(e.cloud_storage||[]),cloud_compute:(0,o.Z)(e.cloud_compute||[]),wavelength_compute:(0,o.Z)(e.wavelength_compute||[]),local_compute:(0,o.Z)(e.local_compute||[])}}))}catch(u){return(0,r.Z)({type:"lms data",status:"error",url:l.Z.lms_api_url,operation:"getPrepaidSubscriptions",error:{catch:u.toString()}})}}},9859:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(8093);const n=async e=>{let{operation:t,auth:a,url:n,timeout:r=0,authType:o,signal:i}=e;try{const e=new AbortController,u=setTimeout((()=>r?e.abort():null),r),d=await(0,s.he)(n,{signal:i||e.signal,method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",authorization:"token"===o?"Bearer ".concat(a.token):"Basic ".concat(btoa("".concat(a.user,":").concat(a.pass)))}});clearTimeout(u);const p=await d.json();var l,c;return p.error?{error:!0,message:p.error,type:"response",role_errors:null===(l=p.main_permissions)||void 0===l?void 0:l.join(", "),access_errors:null===(c=p.unauthorized_access)||void 0===c?void 0:c.map((e=>{var t,a,s,n,r,o;return{schema:e.schema,table:e.table,type:null!==(t=e.required_attribute_permissions)&&void 0!==t&&t.length?"attribute":"table",entity:null!==(a=e.required_attribute_permissions)&&void 0!==a&&a.length?null===(s=e.required_attribute_permissions[0])||void 0===s?void 0:s.attribute_name:e.table,permission:null!==(n=e.required_attribute_permissions)&&void 0!==n&&n.length?null===(r=e.required_attribute_permissions[0])||void 0===r?void 0:r.required_permissions.join(", "):null===(o=e.required_table_permissions)||void 0===o?void 0:o.join(", ")}}))}:200!==d.status?{error:!0,message:"Error of type ".concat(d.status),type:"status"}:p}catch(u){return{error:!0,message:u.message,type:"catch"}}}},3708:(e,t,a)=>{a.d(t,{Z:()=>s});const s=e=>{const t={},a=[];return e.error||Object.keys(e).sort().forEach(((s,n)=>{t[s]={},0===n&&a.push(s),Object.keys(e[s]).sort().forEach(((r,o)=>{0===o&&0===n&&a.push(r),t[s][r]={record_count:e[s][r].record_count,hashAttribute:e[s][r].hash_attribute}}))})),{structure:t,defaultBrowseURL:a.join("/")}}},8659:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(5447),n=a(1343),r=a(3708),o=a(5491);const i=async e=>{let{auth:t,url:a}=e;const i=await(0,n.Z)({auth:t,url:a}),l=await(0,o.Z)({auth:t,url:a});if(i.error)return{error:"Could not log into instance"};const{structure:c,defaultBrowseURL:u}=(0,r.Z)(i);return s.Z.update((e=>{e.auth=t,e.structure=c,e.defaultBrowseURL=u,e.loading=!1,e.registration=l})),{error:!1}}},57:(e,t,a)=>{a.d(t,{Z:()=>s});const s=e=>({alignItems:"center",display:"flex",":before":{content:'"\\'.concat(e,'"'),display:"inline-block",font:"normal normal normal 14px/1 FontAwesome",marginRight:8}})},2190:(e,t,a)=>{a.d(t,{Z:()=>s});const s=(0,a(8131).Z)("instanceAuths")},5447:(e,t,a)=>{a.d(t,{Z:()=>s});const s=new(a(7387).yh)({})},3953:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(7313),n=a(5192),r=a.n(n),o=a(6123),i=a.n(o),l=a(986),c=["className","cssModule","tag"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},u.apply(this,arguments)}function d(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p={className:r().string,cssModule:r().object,tag:l.iC};function m(e){var t=e.className,a=e.cssModule,n=e.tag,r=void 0===n?"div":n,o=d(e,c),p=(0,l.mx)(i()(t,"card-title"),a);return s.createElement(r,u({},o,{className:p}))}m.propTypes=p;const h=m},3672:(e,t,a)=>{var s=a(7313);function n(e,t,a){var n="function"===typeof t;s.useEffect((function(){var a,s=!0,r=e((function(){return s}));return Promise.resolve(r).then((function(e){a=e})),function(){s=!1,n&&t(a)}}),n?a:t)}e.exports=n,e.exports.useAsyncEffect=n},4122:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(7313),n=function(){};function r(e,t,a){var r=(0,s.useRef)(n);(0,s.useEffect)((function(){r.current=e})),(0,s.useEffect)((function(){a&&null!==t&&!1!==t&&r.current()}),[a]),(0,s.useEffect)((function(){if(null!==t&&!1!==t){var e=setInterval((function(){return r.current()}),t);return function(){return clearInterval(e)}}}),[t])}}}]);